# Model as a Service - Q&A Assistant Service User Story

| Item                      | Description |
|---------------------------|-------------|
| ***Summary***                   |As an application developer, I want to use a service API to submit user queries to a pre-configured Q&A assistant, so that I can integrate intelligent, knowledge-based question-answering capabilities into my applications, providing real-time responses to end-user inquiries through LLM-powered assistants.|
| ***Roles, Actor(s) and scope*** |**Roles:** Application Developer, API Consumer (Application Server), End-User <br/> **Actors:** Application Service Provider, End-Users submitting queries. <br/>**Scope:** Submitting query requests to configured assistants and retrieving generated answers based on knowledge bases and LLM configurations.|
| ***Pre-conditions***            |<ul><li>The API Consumer (application server) is onboarded to the CSP's API platform. </li><li>The API Consumer has successfully subscribed to the Q&A Assistant Service API product. </li><li> A Q&A assistant has been previously configured and is accessible via its assistantId. </li><li> The API Consumer has obtained a valid OAuth 2.0 access token with the required qa-assistant-service:answer:read scope. </li></ul>|
| ***Activities/Steps***          |**Starts when:** The API Consumer application server makes an authenticated POST request to /answer with a valid assistantId and a user prompt (1-1000 characters).<br/> **Ends when:** The API server processes the query using the configured assistant and knowledge base, then returns a response containing the generated answer and termination status.|
| ***Post-conditions***           |The end-user receives an intelligent response to their query. The API response includes the generated answer text, completion status (finished field indicating Stop/Length/Error/Filter), and optional knowledge base reference. The application can display this answer to the user.|
| ***Exceptions***                |<ul><li>400 Bad Request: Missing or invalid parameters (e.g., missing prompt, invalid UUID format for assistantId, prompt length exceeds 1000 characters).</li><li>401/403 Unauthorized/Forbidden: Invalid, missing, or expired access token; lack of required OAuth scope; token/assistantId context mismatch.</li><li>404 Not Found: The specified assistantId does not exist or is not accessible.</li><li>500 Internal Server Error: Backend processing failure (e.g., LLM processing error, knowledge base access issue).</li></ul>|
